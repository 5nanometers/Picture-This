<%- include('partials/header') %>

<div class="main-content">
    <div class = "checkout-box">
    <h1 class="cart-title">Your cart</h1>

    <% if (cart.length == 0) { %>
        <p>Your cart is empty.</p>
    
    <% } else { %>
        
        <ol class = "cart-list">
            <% cart.forEach(product => { %>
                <li class="cart-item">

                    <a href="/product/<%= product.id %>" class = "cart-product-link"> <%= product.name %> </a> - $<%= product.price.toFixed(2) %>
                    x <%= product.quantity %>

                    <div class="cart-buttons">
                        <form action="/cart/add/<%= product.id %>" method="POST" class="cart-form">
                            <button type="submit" class="cart-button-add">+</button>
                        </form>
                        <form action="/cart/remove-one/<%= product.id %>" method="POST" class="cart-form">
                            <button type="submit" class="cart-button-subtract">-</button>
                        </form>
                    </div>
                </li>
            <% }) %>

        </ol>
    

        <h2 class="cart-total">Grand Total: $<%= total.toFixed(2) %></h2>

        <div class="checkout-container">
            <button type="button" class="checkout-button" onclick="alert('Checkout coming soon')">Proceed to Checkout</button>
        </div>
    <% } %>
    </div>
</div>

<%- include('partials/footer') %>